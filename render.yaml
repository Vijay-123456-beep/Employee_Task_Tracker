services:
  # Web Service
  - type: web
    name: employee-task-tracker
    env: java
    buildCommand: mvn clean package
    startCommand: java -jar target/dependency/webapp-runner.jar --port $PORT target/*.war
    envVars:
      - key: JAVA_OPTS
        value: "-Xmx512m"
      - key: DATABASE_URL
        fromDatabase:
          name: employee-task-db
          property: connectionString

databases:
  # PostgreSQL Database (Render Free Tier)
  - name: employee-task-db
    databaseName: employee_task_tracker
    plan: free
